if(!Gator)var Gator=function(t){this.options=t,this.q=[]};if(!Aggregator)var Aggregator=Gator||function(t){this.options=t,this.q=[]};Aggregator.processorHost="a-{0}.ns8ds.com",Aggregator.visState={hidden:1,api:2,geo:4},Aggregator.browserCaps=function(){var t=document,e=window,o=function(){try{return void 0===t.createElement("audio").mozSrcObject?"0":"1"}catch(t){return"0"}},n=function(){try{return void 0===t.webkitVisibilityState?"0":"1"}catch(t){return"0"}};return"v1."+function(){try{return new e.MSBlobBuilder,"1"}catch(t){return"0"}}()+o()+n()},Aggregator.cookie=function(t){var e;return(e=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?e[1]:null},Aggregator.stringify=function(t){var e=typeof t;if("object"!=e||null===t)return"string"==e&&(t='"'+t+'"'),String(t);var o,n,i=[],r=t&&t.constructor==Array;for(o in t)t.hasOwnProperty(o)&&("string"==(e=typeof(n=t[o]))?n='"'+n+'"':"object"==e&&null!==n&&(n=Aggregator.stringify(n)),i.push((r?"":'"'+o+'":')+String(n)));return(r?"[":"{")+String(i)+(r?"]":"}")},Aggregator.prototype.ready=function(t){t()},Aggregator.prototype.imgs=[],Aggregator.prototype.loading=0,Aggregator.prototype.log=function(t){this.hr||this.run();var e=this,o=this.options,n=(new Date).getTime(),i=document.referrer,r=location.search,a="http"+("https:"==location.protocol?"s://":"://")+(o.processorHost||Aggregator.processorHost);try{top!==self&&(i=top.document?top.document.referrer:"",r=top.location.search)}catch(t){}this.loading++;var c="",s="",g=document.createElement("img");o.protect&&(c=Aggregator.cookie("_ga")?"&gc="+Aggregator.cookie("_ga"):"",s=Aggregator.cookie("__utma")?"&gco="+Aggregator.cookie("_utma"):""),g.width=1,g.height=1,g.onload=function(){e.loading--},g.onerror=function(){e.loading--},g.src=a.replace("{0}",o.projectId)+"/web/push?ht=p&o="+encodeURIComponent(Aggregator.stringify(o))+"&u="+this.userId+(t||"")+"&t="+n+"&sr="+encodeURIComponent(r)+"&rf="+encodeURIComponent(i)+"&sl="+encodeURIComponent(navigator.systemLanguage)+"&sp="+("https:"==location.protocol?"1":"0")+"&av="+encodeURIComponent(navigator.appVersion)+"&l="+encodeURIComponent(navigator.language)+"&pf="+encodeURIComponent(navigator.platform)+"&cd="+screen.colorDepth+"&h="+encodeURIComponent(location.host)+"&rs="+encodeURIComponent(screen.width+" x "+screen.height)+"&vis="+(this.visibility.hidden()?1:0)+"&wd="+(navigator.webdriver?1:0)+"&pi="+(navigator.plugins?navigator.plugins.length:0)+"&tp="+navigator.maxTouchPoints+"&c="+Aggregator.cookie("__na_c")+"&bc="+Aggregator.browserCaps()+c+s,this.imgs.push(g)},Aggregator.prototype.processAll=function(t,e){var o=this;if(this.loading<=0)t();else var n=0,i=(e=e||1e3,setInterval(function(){(e<(n+=20)||o.loading<=0)&&(clearInterval(i),t())},20))},Aggregator.prototype.logSimpleEvent=function(t,e){this.hr||this.run();var o=this.options,n="http"+("https:"==location.protocol?"s://":"://")+(o.processorHost||Aggregator.processorHost);(new Image).src=n.replace("{0}",o.projectId)+"/web/push?o="+encodeURIComponent(Aggregator.stringify(o))+"&u="+this.userId+"&ht="+t+"&data="+e+"&cd="+screen.colorDepth+"&c="+Aggregator.cookie("__na_c")+"&rs="+encodeURIComponent(screen.width+" x "+screen.height)},Aggregator.prototype.logPageview=function(t){t?this.log("&page="+encodeURIComponent(t)):this.log("&page="+encodeURIComponent(location.pathname))},Aggregator.prototype.logOutbound=function(t,e,o){this.log("&event="+encodeURIComponent(t)+(o?"&eventData="+encodeURIComponent(Aggregator.stringify(o)):"")),"function"==typeof e?e():this.processAll(function(){document.location.href=e})},Aggregator.prototype.updateSession=function(t){this.log(t?"&updateSession="+encodeURIComponent(Aggregator.stringify(t)):"")},Aggregator.prototype.updateEvent=function(t,e){this.log("&uniqueId="+encodeURIComponent(t)+(e?"&update="+encodeURIComponent(Aggregator.stringify(e)):""))},Aggregator.prototype.logEvent=function(t,e){this.log("&event="+encodeURIComponent(t)+(e?"&eventData="+encodeURIComponent(Aggregator.stringify(e)):"")+"&page="+encodeURIComponent(location.pathname))},Aggregator.prototype.logTiming=function(t){this.log("&timing="+encodeURIComponent(Aggregator.stringify(t)))},Aggregator.prototype.setPerson=function(t,e){this.log("&person="+encodeURIComponent(t)+(e?"&personData="+encodeURIComponent(Aggregator.stringify(e)):""))},Aggregator.prototype.updatePerson=function(t,e){this.log("&person="+encodeURIComponent(t)+(e?"&personUpdate="+encodeURIComponent(Aggregator.stringify(e)):""))},Aggregator.prototype.setUserId=function(){var t,e=new Date;this.userId=Aggregator.cookie("__na_u_"+this.options.projectId),this.userId||(this.userId=Math.floor(Math.random()*Math.pow(2,24))*Math.pow(2,23)+Math.floor(Math.random()*Math.pow(2,23)));try{t=function(){var t=0,e=document.domain;if(e){var o=e.split("."),n="_gd"+(new Date).getTime();if(isNaN(o[o.length-1])){if(1<o.length&&("com"==o[o.length-1]||"net"==o[o.length-1]))return o[o.length-2]+"."+o[o.length-1];for(;t<o.length-1&&-1==document.cookie.indexOf(n+"="+n);)e=o.slice(-1-++t).join("."),document.cookie=n+"="+n+";domain="+e+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",e}}}()}catch(t){}document.cookie="__na_u_"+this.options.projectId+"="+this.userId+";path=/;"+(t?"domain=."+t+";":"")+"expires="+new Date(e.getFullYear()+2,1,1).toUTCString()},Aggregator._visibility=function(){"use strict";var n=this;n._doc=document||{},n._callbacks={},n.lastId=-1,n.onScreen=function(){var t=null,e=null;if(null!=window.screenX)t=window.screenX,e=window.screenY;else{if(null==window.screenLeft)return null;t=window.screenLeft,e=window.screenTop}var o=document.body?document.body.clientWidth:0,n=document.body?document.body.clientHeight:0;return!(t-100+(window.outerWidth?window.outerWidth:o)-(screen.availLeft?screen.availLeft:0)<=0||screen.width+(screen.availLeft?Math.abs(screen.availLeft):0)-100-t<=0||e-100+(window.outerHeight?window.outerHeight:n)-(screen.availTop?screen.availTop:0)<=0||screen.height+(screen.availTop?Math.abs(screen.availTop):0)-100-e<=0)},n.state=function(){return n.onScreen()?n._doc.visibilityState||n._doc.webkitVisibilityState||"visible":"hidden"},n.hidden=function(){return!n.onScreen()||!(!n._doc.hidden&&!n._doc.webkitHidden)},n._init=!1,n.shown=!n.hidden(),n.change=function(t){if(!n.isSupported())return!1;n.lastId+=1;var e=n.lastId;return n._callbacks[e]=t,n._listen(),e},n._listen=function(t){delete n._callbacks[t]},n.isSupported=function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},n._change=function(t){var e=n.state();for(var o in n._callbacks)n._callbacks.hasOwnProperty(o)&&n._callbacks[o].call(n._doc,t,e)},n._listen=function(){if(!n._init){var t="visibilitychange";n._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(t,e):n._doc.attachEvent(t,e),n._init=!0}},n.monitor=function(o){n.shown||(n.onScreen()||(n.checker=setInterval(function(){n.shown||n.hidden()||(n.shown=!0,o.logSimpleEvent("vu",Aggregator.visState.geo)),n.shown&&window.clearInterval(n.checker)},150)),n.change(function(t,e){console.log((new Date).toString()+"  Change to: "+e),n.shown||n.hidden()||(n.shown=!0,o.logSimpleEvent("vu",Aggregator.visState.api))}))}},Aggregator.prototype.timing=function(o){try{if(this.options.timing){function t(){if(window.performance){var t=window.performance.timing,e={category:"Page Load",dns:t.domainLookupEnd-t.domainLookupStart,connect:t.connectEnd-t.connectStart,response:t.responseEnd-t.responseStart,interactive:t.domInteractive-t.fetchStart,total:t.domComplete-t.fetchStart};o.logTiming(e)}}"complete"==document.readyState?t():window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent&&window.attachEvent("onload",t)}}catch(t){}},Aggregator.prototype.trackLinks=function(d){try{if(this.options.trackLinks){function t(t){if(t&&t.target&&"A"==event.target.tagName){var e,o,n,i="",r=t.target,a="Exit Link",c={};if("aif,bmp,docx,dot,dotx,dotm,gif,jpeg,jpg,mp4,pict,png,pptx,potx,raw,tif,tiff,wma,wmv,xlsx,xlst,xltx,xltm,dmg,aam,arc,au,avi,bak,bat,bin,cab,cfg,csv,dat,dd,dir,dll,doc,dcr,exe,fnt,gzip,gz,ico,img,hqx,inf,iso,jar,log,mid,midi,mov,mp3,mpg,mpeg,msi,nlm,pdf,ppt,psd,ram,rar,rpm,rtf,scr,scexe,swf,tar,tgz,tar,ttf,txt,wav,xls,xml,zip",0<(n=r.href.toLowerCase()).indexOf("?")&&(n=n.substring(0,n.indexOf("?"))),0<n.indexOf("#")&&(n=n.substring(0,n.indexOf("#"))),"mailto:"==n.substr(0,7))a="Mail To Link",c={Recipient:i=r.pathname};else if("tel:"==n.substr(0,4))a="Telephone Link",c={Phone:i=r.pathname};else{var s="Link";0<(e=n.lastIndexOf("."))&&(o=n.substring(e+1),-1<"aif,bmp,docx,dot,dotx,dotm,gif,jpeg,jpg,mp4,pict,png,pptx,potx,raw,tif,tiff,wma,wmv,xlsx,xlst,xltx,xltm,dmg,aam,arc,au,avi,bak,bat,bin,cab,cfg,csv,dat,dd,dir,dll,doc,dcr,exe,fnt,gzip,gz,ico,img,hqx,inf,iso,jar,log,mid,midi,mov,mp3,mpg,mpeg,msi,nlm,pdf,ppt,psd,ram,rar,rpm,rtf,scr,scexe,swf,tar,tgz,tar,ttf,txt,wav,xls,xml,zip,".indexOf(o+",")&&(a="Download",s="File")),document.domain!=r.hostname?i=r.hostname+("/"!=r.pathname?r.pathname:""):"Download"==a&&(i=r.pathname.substr(1)),c[s]=i}if(""!=i&&0!=i.indexOf("javascript:")&&"#"!=i&&"Exit Link"!=a){d.logEvent(a,c);var g=t.target.target||"_self";return setTimeout(function(){window.open(r.href,g)},100),"function"==typeof t.preventDefault&&t.preventDefault(),!1}}}window.addEventListener?window.addEventListener("click",t,!1):window.attachEvent&&window.attachEvent("onclick",t)}}catch(t){}},Aggregator.prototype.detectMotion=function(){var e=this;e.motion=function(t){t.acceleration&&t.acceleration.x&&(e.dmCalled||(e.dmCalled=!0,window.removeEventListener("devicemotion",e.motion,!0),e.logSimpleEvent("dm","1")))},"https:"===location.protocol&&window.addEventListener&&window.addEventListener("devicemotion",e.motion,!0)},Aggregator.prototype.run=function(){if(!this.hr){this.hr=!0,this.detectMotion(),this.setUserId(),this.visibility=new Aggregator._visibility,this.visibility.monitor(this),this.timing(this),this.trackLinks(this);for(var t=this.q,e=0;e<t.length;e++){switch(t[e][0]){case 0:this.logEvent(t[e][1][0],t[e][1][1]);break;case 1:this.logPageview(t[e][1][0]);break;case 2:t[e][1][0]();break;case 3:this.logOutbound(t[e][1][0],t[e][1][1],t[e][1][2]);break;case 4:this.setPerson(t[e][1][0],t[e][1][1]);break;case 5:this.updatePerson(t[e][1][0],t[e][1][1]);break;case 6:this.updateSession(t[e][1][0],t[e][1][1]);break;case 7:this.updateEvent(t[e][1][0],t[e][1][1])}t[e][0]=""}}};