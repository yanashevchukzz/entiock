!function(t){function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var s={};n.m=t,n.c=s,n.i=function(t){return t},n.d=function(t,s,e){n.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(s,"a",s),s},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=2)}([function(t,n){function s(){var t="";try{t=sn_jQuery('script[src*="'+V+'"]').attr("src")||sn_jQuery('script[src*="'+H+'"]').attr("src")||sn_jQuery('script[src*="'+U+'"]').attr("src")||sn_jQuery('script[src*="'+G+'"]').attr("src")}catch(t){}return t}function e(){var t=i();if(t.indexOf(V)>-1||t.indexOf(H)>-1){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.media="all",n.href=r(),document.getElementsByTagName("head")[0].appendChild(n)}else if(t.indexOf(U)>-1||t.indexOf(G)>-1)for(var t=i()+Q.replace("min/app.min.css",""),s=["css/common.css","css/sn-notifications.css","css/sn-cart-notifications.css"],n=null,e=0;e<s.length;e++)n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.media="all",n.href=t+s[e],document.getElementsByTagName("head")[0].appendChild(n)}function o(){var t=s();return""!=t&&(t=t.split(L)[0]),t}function i(){var t=s();return""!=t&&(t=t.split(L)[0]),t}function a(){var t=s();try{t=t.split(B)[1].split(E)[0],t+=E}catch(n){console.log(n),t=Shopify.shop}return t}function r(){var t=o();return t.indexOf(V)>-1||t.indexOf(H)>-1?t+R:t.indexOf(U)>-1||t.indexOf(G)>-1?t+Q:""}function l(){var t=window.location.href;try{t=t.split("?")[0],t.indexOf("#")>-1&&(t=t.split("#")[0])}catch(t){console.log(t)}return t}function c(){for(var t=[],n=document.location.pathname.split("/"),s=0;s<n.length;s++)n[s]&&""!=n[s]&&t.push(n[s]);return t}function u(){return!(c().length>0)}function f(){return-1!=c().indexOf("products")}function _(){return-1!=c().indexOf("cart")}function d(){var t=l();return t.indexOf("/password")>-1||t.indexOf("/checkouts/")>-1}function p(t,n,s,e){var n=isNaN(n=Math.abs(n))?2:n,s=void 0==s?".":s,e=void 0==e?",":e,o=t<0?"-":"",i=String(parseInt(t=Math.abs(Number(t)||0).toFixed(n))),a=(a=i.length)>3?a%3:0;return o+(a?i.substr(0,a)+e:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+e)+(n?s+Math.abs(t-i).toFixed(n).slice(2):"")}function I(t,n){if(null==n){try{n=theme.strings.moneyFormat}catch(t){console.log(t)}if(null==n)try{n=theme.moneyFormat}catch(t){console.log(t)}}var s=t,e=/\{\{\s*(\w+)\s*\}\}/;switch(n.match(e)[1]){case"amount":s=p(t);break;case"amount_no_decimals":s=p(t,0);break;case"amount_with_comma_separator":s=p(t,2,",",".");break;case"amount_no_decimals_with_comma_separator":s=p(t,0,",",".")}return n.replace(e,s)}function g(t){return t}function N(){return sn_jQuery(window).width()<Y}function m(t){try{t=t.replace(" - Default Name","").replace(" - Default Title","").replace(" - Default","").replace(" - null","")}catch(t){console.log(t)}return t}function S(){try{if(window.location.href.indexOf(V+K)>-1||window.location.href.indexOf(H+K)>-1||window.location.href.indexOf(U+K)>-1||window.location.href.indexOf(G)>-1)return"//"+a()}catch(t){console.log(t)}return""}function O(t){var n="";null!=t.settings.custom_js&&""!=t.settings.custom_js&&(n+=t.settings.custom_js),""!=n&&sn_jQuery("<script>"+n+"<\/script>").appendTo(document.body)}function T(t){return null!=t&&""!=t}function y(t){if(T(t)){t=t.split(" ");var n="";return t.forEach(function(t){n+=t.replace(/^\w/,function(t){return t.toUpperCase()}),n+=" "}),n.replace(/^\s+|\s+$/gm,"")}return""}function h(t){var n="";""!=t.settings.app_custom_css&&(n+=t.settings.app_custom_css.replace(/##BREAKLINE##/g,"")),""!=n&&(n="<style id='buy-me-custom-style'>"+n+"</style>",sn_jQuery("#buy-me-custom-style").remove(),sn_jQuery("body").append(n))}function w(t,n,s){try{window.ga&&ga.loaded&&ga("send","event",tt,t,n,s)}catch(t){console.log(t)}}function C(t,n){try{if(-1==sn_jQuery("#admin_bar_iframe").index()&&-1==sn_jQuery("#admin-bar-iframe").index()&&-1==window.location.href.indexOf(W)){var s=n.split("/")[n.split("/").length-1];s=s.split("?")[0];var e=Math.round(+new Date/1e3),o=Z;N()&&(o=X);var r="?method=sn-analytics&handle="+s+"&shop="+a()+"&sid="+t+"&device="+o+"&t="+e;sn_jQuery.get(i()+z+r)}}catch(t){console.log(t)}}function A(t,n,s){var e=new Date;e.setTime(e.getTime()+24*s*60*60*1e3);var o="expires="+e.toUTCString();document.cookie=t+"="+n+";"+o+";path=/"}function M(t){for(var n=t+"=",s=document.cookie.split(";"),e=0;e<s.length;e++){for(var o=s[e];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return""}function v(t){document.cookie=t+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function P(t,n){"undefined"!=typeof Storage?localStorage.setItem(t,n):A(t,n,1)}function F(t){return"undefined"!=typeof Storage?localStorage.getItem(t):M(t)}function D(t){"undefined"!=typeof Storage?localStorage.removeItem(t):v(t)}function b(t,n){try{""==M(t)&&(A(t,"1",1),sn_jQuery.post(i()+nt,{tkn:st,url:window.location.href,reason:n}))}catch(t){console.log(t)}}function k(t){return t.settings.randomize_delay?Math.floor(Math.random()*(parseFloat(t.settings.display_time)+$-parseFloat(t.settings.display_time)+1))+parseFloat(t.settings.display_time):t.settings.delay_between_notification}function x(t,n){for(var s=!1,e=0;e<t.length;e++)if(t[e]==n){s=!0;break}return s}function j(t,n,s,e){try{if(-1==sn_jQuery("#admin_bar_iframe").index()&&-1==sn_jQuery("#admin-bar-iframe").index()){var o=n.split("/")[n.split("/").length-1];o=o.split("?")[0];var r=Math.round(+new Date/1e3),l=Z;N()&&(l=X);var c="?method=sn-analytics&handle="+o+"&shop="+a()+"&sid="+t+"&device="+l+"&t="+r+"&title="+e+"&img="+s;sn_jQuery.get(i()+z+c)}}catch(t){}}var L="/v1/",B="shop=",E=".myshopify.com",Q="/v1/min/app.min.css",R="/v1/min/app.min.css",G="/sales-notification-local",U="//sales-notification-demo.",H="//sales-notification.",V="//sales-notification-cdn.",K="makeprosimp.com",z="/v1/analytics",Y=768,q=[1,2,3],J=[1,2,3,4,5,6,7],$=15,W="?sn_preview=1",X=0,Z=1,tt="Sales Notification App",nt="/errors/report",st="91ca07f2c4f29c694830e289ff677695137a162b";t.exports={snVersion:L,snGetCSSScript:e,snGlobalAPIURL:i,snGetShopifyShopURL:a,snGetProductDomainURL:S,snIsPasswordOrCheckoutPage:d,snGetCurrentURLWithoutQueryString:l,snNoImageURL:"https://cdn.shopify.com/s/files/1/1980/3607/files/no-image_50x.jpg?8318599161665921371",snMobileWidth:Y,snIsMobile:N,snSetProductImage:g,snRemoveDefaultChar:m,snCommonCSS:h,sn_TESTING_PREVIEW_CODE:W,sn_MOBILE:X,sn_DESKTOP:Z,sn_MOBILE_TEXT:"Mobile/Tablet",sn_DESKTOP_TEXT:"Desktop",sn_TRACKING_URL:z,snAnalyticForNotification:C,snTrackGA:w,snErrorHandling:b,snCommonJS:O,snIsNotNullOrBlank:T,snCapitalizeFirstChar:y,snCOMMON_CLASS_CSS:"sn-common",snDEFAULT_CLASS_CSS:"sn-style-big",snSTYLE_CUSTOM:"3",snBACKGROUND_COLOR:1,snBACKGROUND_IMG:2,snSalesNotificationLocalStorage:"mps_sales_notification_ids",snCartNotificationLocalStorage:"mps_cart_notification_ids",snSetLocalStorage:P,snGetLocalStorage:F,snRemoveLocalStorage:D,snUTM_SOURCE_TAG:"utm_source",snUTM_MEDIUM_TAG:"utm_medium",snUTM_CAMPAIGN_TAG:"utm_campaign",bmMoneyFormat:I,snConst_Seconds:1,snConst_Minutes:2,snConst_Hours:3,snConst_Days:4,snGetDelayBetweenNotification:k,SALES_NOTIFICATION:1,CART_NOTIFICATION:2,sn_GENERATE_SALE_URL:"/v1/generate-sales",cn_GET_CART_NOTIFICATION:"/v1/get-cart-notification",snCheckFeatureAccess:x,SALES_NOTIFICATION_APP:1,UNLIMITED_ORDERS:2,UNLIMITED_NOTIFICATIONS:3,CART_NOTIFICATION_APP:4,PRIORITY_SUPPORT:5,ANALYTICS:6,ADDITIONAL_NOTIFICATION_DESIGNS:7,snDefaultRights:q,snSalesNotificationArrayLS:"mps_sales_notification_list",snSalesNotificationCountLS:"mps_sales_notification_count",BASIC_STYLES:J,isHomePage:u,isProductPages:f,isCartPage:_,snAnalytic:j,POSITION_TOP:"1",POSITION_BOTTOM:"2",MIN_BOTTOM_POSITION_DESKTOP:35,MIN_BOTTOM_POSITION_MOBILE:25}},function(t,n,s){function e(){var t=u.snDefaultRights;try{void 0!=c.settings.as&&(t=c.settings.as.split(","))}catch(t){console.log(t)}try{-1!=u.BASIC_STYLES.indexOf(c.settings.style_class_id)||u.snCheckFeatureAccess(t,u.ADDITIONAL_NOTIFICATION_DESIGNS)||(c.settings.selected_style=u.BASIC_STYLES[0],c.settings.style_class_id=u.BASIC_STYLES[0],c.settings.style_class=u.snDEFAULT_CLASS_CSS)}catch(t){console.log(t)}u.snCheckFeatureAccess(t,u.CART_NOTIFICATION_APP)&&c.settings.is_cart_notification_enabled?l(c,u,f):window.MPS_NOTIFICATIONS.snGenerateSalesNotification(c,u,f)}function o(){var t=0;try{void 0!==c.settings.is_exclude_home_page&&(t=c.settings.is_exclude_home_page)}catch(t){}return!u.isHomePage()||!t}function i(){var t=0;try{void 0!==c.settings.is_exclude_product_pages&&(t=c.settings.is_exclude_product_pages)}catch(t){}return!u.isProductPages()||!t}function a(){var t=0;try{void 0!==c.settings.is_exclude_cart_page&&(t=c.settings.is_exclude_cart_page)}catch(t){}return!u.isCartPage()||!t}function r(t,n){null==u&&null==c&&(c=t,u=n,window.MPS_NOTIFICATIONS.SNRefreshNotifications())}window.MPS_NOTIFICATIONS.snGenerateSalesNotification=s(4);var l=s(3),c=null,u=null,f=!1;window.MPS_NOTIFICATIONS.SNRefreshNotifications=function(){null!=u&&null!=c&&(f=!1,u.snIsMobile()?c.settings.mobile&&(f=!0):c.settings.desktop&&(f=!0),f&&o()&&i()&&a()&&e())},t.exports=r},function(t,n,s){function e(){return"false"==sn_jQuery('meta[name="mps-sales-notification:active"]').attr("content")||"false"==sn_jQuery('meta[name="mps-sale-notification:active"]').attr("content")}function o(t){1==t.sn_status&&t.settings.status?(l(t,r),console.info("%c ---------------------------------------------------------------","color: #5c6ac4;"),console.info("%c --------- App loaded: Sales Notification by MPS(Free) ---------","color: #5c6ac4;"),console.info("%c https://apps.shopify.com/mps-sales-notification","color: #5c6ac4;"),console.info("%c ---------------------------------------------------------------","color: #5c6ac4;")):0==t.sn_status&&console.warn(t.error)}function i(){if(e()||r.snIsPasswordOrCheckoutPage())return!1;r.snGetCSSScript();var t=void 0;try{t="####CACHED_RESPONSE####"}catch(t){console.log(t)}if(void 0!=t&&-1==t.toString().indexOf("##CACHED_RESPONSE##")){try{t=void 0==t[0]?t:t[0]}catch(t){}o(t)}else sn_jQuery.get(r.snGlobalAPIURL()+r.snVersion+"app?shop="+r.snGetShopifyShopURL(),function(t){t&&o(t)})}function a(){if(sn_jQuery="undefined"==typeof jQuery?"undefined"==typeof $?"undefined":$:jQuery,"undefined"==sn_jQuery)if(c<=u)console.log("Sales Notification App: jQuery is not found but waiting: "+c),c++,setTimeout(function(){a()},1e3);else if(f){var t=document.createElement("script");t.onload=function(){console.log("Sales Notification App: jQuery version 1.9.1 inserted."),sn_jQuery=jQuery,sn_jQuery.noConflict(),a()},t.src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",document.getElementsByTagName("head")[0].appendChild(t),f=!1}else console.log("Sales Notification App: Please include jQuery on your store's theme file or contact our support at support@makeprosimp.com");else i()}window.MPS_NOTIFICATIONS={};var r=s(0),l=s(1),c=1,u=5,f=!0;a()},function(t,n){function s(t){for(var n=0;n<t.length;n++)t[n].sn_type=r.CART_NOTIFICATION;window.MPS_NOTIFICATIONS.snCartNotifications=t,window.MPS_NOTIFICATIONS.snGenerateSalesNotification(a,r,l)}function e(){sn_jQuery.ajax({method:"post",url:r.snGlobalAPIURL()+r.cn_GET_CART_NOTIFICATION,data:{sid:a.settings.sid,shop:r.snGetShopifyShopURL()},success:function(t,n,e){s(t)}})}function o(t,n,s){try{var e=!1;return s==r.snConst_Seconds?parseInt(n)<t.dtDiffSeconds&&(e=!0):s==r.snConst_Minutes?parseInt(n)<t.dtDiffMinutes&&(e=!0):s==r.snConst_Hours?parseInt(n)<t.dtDiffHours&&(e=!0):s==r.snConst_Days&&parseInt(n)<t.dtDiffDays&&(e=!0),e}catch(t){return console.log(t),!1}}function i(t,n,s){a=t,r=n,l=s,window.MPS_NOTIFICATIONS.SNRefreshCartNotifications()}var a=null,r=null,l=!1,c="",u="",f="",_="";window.MPS_NOTIFICATIONS.snTotalValidCartFound=0,window.MPS_NOTIFICATIONS.snIsFoundAtleastOneCartNotificationFN=function(){var t=!1;if(void 0!=window.MPS_NOTIFICATIONS.snCartNotifications&&a.settings.is_cart_notification_enabled)for(var n=0;n<window.MPS_NOTIFICATIONS.snCartNotifications.length;n++)window.MPS_NOTIFICATIONS.snIsNotValidCart(window.MPS_NOTIFICATIONS.snCartNotifications[n])||(t=!0,window.MPS_NOTIFICATIONS.snTotalValidCartFound+=1);return t},window.MPS_NOTIFICATIONS.snIsNotValidCart=function(t){return o(window.MPS_NOTIFICATIONS.snPrepareThresholdDateTimeObj(t),a.settings.cart_notification_duration,a.settings.cart_notification_duration_select)},window.MPS_NOTIFICATIONS.snAssignCartNotification=function(t){var n=a.settings.cart_display_template;!function(){sn_jQuery("#mps-sales-notification .sn-img a").css("background-image","url('"+r.snSetProductImage(t.sn_img)+"')");var n=r.snGetProductDomainURL();sn_jQuery("#mps-sales-notification .sn-img a").attr("href",n+"/products/"+t.sn_handle+window.MPS_NOTIFICATIONS.snGetUTMParams()),r.snIsNotNullOrBlank(n)&&sn_jQuery("#mps-sales-notification .sn-img a").attr("target","_blank")}(),function(){n=n.replace(/{{ item_price }}/g,r.bmMoneyFormat(t.sn_item_price,a.settings.money_format)).replace(/{{ line_price }}/g,r.bmMoneyFormat(t.sn_line_price,a.settings.money_format)).replace(/{{ quantity }}/g,t.sn_quantity)}(),function(){var s=r.snGetProductDomainURL(),e="";r.snIsNotNullOrBlank(s)&&(e=" target='_blank'");var o="<a href='"+s+"/products/"+t.sn_handle+window.MPS_NOTIFICATIONS.snGetUTMParams()+"'"+e+">"+t.sn_title+"</a>";n=n.replace(/{{ item }}/g,o)}(),function(){try{var s=window.MPS_NOTIFICATIONS.snPrepareThresholdDateTimeObj(t),e=0,i=r.snIsNotNullOrBlank(a.settings.time_ago_template)?a.settings.time_ago_template:"{{ unit }} {{ duration }} ago";if(o(s,a.settings.cart_notification_duration,a.settings.cart_notification_duration_select))return n=n.replace(/{{ time_ago }}/g,""),!0;Math.floor(s.dtDiffSeconds)>0&&Math.floor(s.dtDiffSeconds)<60?(e=Math.floor(s.dtDiffSeconds),i=i.replace(/{{ unit }}/g,e),i=Math.floor(s.dtDiffSeconds)<=1?i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(c)?c:"second"):i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(c)?c:"seconds")):Math.floor(s.dtDiffMinutes)>0&&Math.floor(s.dtDiffMinutes)<60?(e=Math.floor(s.dtDiffMinutes),i=i.replace(/{{ unit }}/g,e),i=Math.floor(s.dtDiffMinutes)<=1?i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(u)?u:"minute"):i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(u)?u:"minutes")):Math.floor(s.dtDiffHours)>0&&Math.floor(s.dtDiffHours)<24?(e=Math.floor(s.dtDiffHours),i=i.replace(/{{ unit }}/g,e),i=Math.floor(s.dtDiffHours)<=1?i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(f)?f:"hour"):i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(f)?f:"hours")):Math.floor(s.dtDiffDays)>0&&(e=Math.floor(s.dtDiffDays),i=i.replace(/{{ unit }}/g,e),i=Math.floor(s.dtDiffDays)<=1?i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(_)?_:"day"):i.replace(/{{ duration }}/g,r.snIsNotNullOrBlank(_)?_:"days")),n=e>0?n.replace(/{{ time_ago }}/g,'<small class="sn-time-ago">'+i+"</small>"):n.replace(/{{ time_ago }}/g,"")}catch(t){console.log(t),n=n.replace(/{{ time_ago }}/g,"")}}(),function(){sn_jQuery("#mps-sales-notification .sn-info").html("<div class='sn-info-wrapper'>"+n+"</div>")}(),function(){sn_jQuery("#mps-sales-notification").addClass("mps-cart-notification")}()},window.MPS_NOTIFICATIONS.SNRefreshCartNotifications=function(){l&&a.settings.is_cart_notification_enabled&&e()},t.exports=i},function(t,n){function s(){return'<div id="mps-sales-notification"><div class="sn-img"><a></a></div><div class="sn-info"></div><a class="sn-close-noty"><svg viewport="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg"><line x1="1" y1="11" x2="11" y2="1" stroke-width="1"></line><line x1="1" y1="1" x2="11" y2="11" stroke-width="1"></line></svg></a><div class="mps-sn-sign" style="display: none;"><a target="_blank" href="https://apps.shopify.com/mps-sales-notification?'+v.snUTM_SOURCE_TAG+"=shopify-store&"+v.snUTM_MEDIUM_TAG+"=sign-click&"+v.snUTM_CAMPAIGN_TAG+'=sn-app" class="mps-sn-brand-icon"><span class="mps-sn-verified-by">verified</span> <span class="mps-sn-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.15 12.64"><g><g><path fill="#fcf4a0" d="M6.58.75L.75 7.06h3.54l-1.95 4.83L8.4 5.24H4.57L6.58.75z"></path> <path d="M6.58.75l-2 4.49H8.4l-6.06 6.65 2-4.83H.75L6.58.75m0-.75a.67.67 0 0 0-.37.11.65.65 0 0 0-.21.13L.2 6.55a.75.75 0 0 0 .55 1.26h2.43l-1.54 3.8a.76.76 0 0 0 .3.92.8.8 0 0 0 .4.11.74.74 0 0 0 .55-.24L9 5.75a.75.75 0 0 0-.6-1.26H5.73L7.24 1.1a.68.68 0 0 0 .09-.35.75.75 0 0 0-.74-.75zm0 1.5z" fill="#f4a51f"></path></g></g></svg> <span class="mps-sn-verified-by">by</span></span> MakeProSimp</a></div></div>'}function e(){var t=s();sn_jQuery("body").append(t),w()||sn_jQuery("#mps-sales-notification .mps-sn-sign").removeAttr("style")}function o(){var t="";t+="#mps-sales-notification.sn-common { ",t+="opacity: 0;",t+="} ",M.settings.is_background_color_or_img==v.snBACKGROUND_COLOR&&v.snIsNotNullOrBlank(M.settings.background_color)&&(t+="#mps-sales-notification.sn-common."+M.settings.style_class+" { ",t+="background-color: "+M.settings.background_color+";",t+="} "),(v.snIsNotNullOrBlank(M.settings.product_message_color)||M.settings.product_message_bold)&&(t+="#mps-sales-notification.sn-common."+M.settings.style_class+" { ",v.snIsNotNullOrBlank(M.settings.product_message_color)&&(t+="color: "+M.settings.product_message_color+";"),M.settings.product_message_bold&&(t+="font-weight: bold;"),t+="} ",v.snIsNotNullOrBlank(M.settings.product_message_color)&&(t+="#mps-sales-notification.sn-common."+M.settings.style_class+" a.sn-close-noty svg { ",t+="stroke: "+M.settings.product_message_color+";",t+="} ")),(v.snIsNotNullOrBlank(M.settings.product_title_color)||M.settings.product_title_bold)&&(t+="#mps-sales-notification.sn-common."+M.settings.style_class+" a { ",v.snIsNotNullOrBlank(M.settings.product_title_color)&&(t+="color: "+M.settings.product_title_color+";"),M.settings.product_title_bold?t+="font-weight: bold;":M.settings.product_message_bold&&(t+="font-weight: normal;"),t+="} "),(v.snIsNotNullOrBlank(M.settings.product_message_color)||M.settings.product_message_bold)&&(t+="#mps-sales-notification.sn-common."+M.settings.style_class+" p { ",v.snIsNotNullOrBlank(M.settings.product_message_color)&&(t+="color: "+M.settings.product_message_color+";"),M.settings.product_message_bold&&(t+="font-weight: bold;"),t+="} "),(v.snIsNotNullOrBlank(M.settings.product_timeago_color)||M.settings.product_timeago_bold)&&(t+="#mps-sales-notification.sn-common."+M.settings.style_class+" small { ",v.snIsNotNullOrBlank(M.settings.product_timeago_color)&&(t+="color: "+M.settings.product_timeago_color+";"),M.settings.product_timeago_bold&&(t+="font-weight: bold;"),t+="} ");var n=M.settings.class.split("-");3==n.length&&(t+="@media screen and (min-width: 467px) { ","sn-fade-in-out"==M.settings.animation_class?(t+="#mps-sales-notification.sn-common."+M.settings.class+" { ",t+=n[1]+": "+M.settings.top_bottom+"px;",t+=n[2]+": "+M.settings.left_right+"px;",t+="} "):"sn-left-to-right"==M.settings.animation_class?(t+="#mps-sales-notification.sn-common."+M.settings.class+" { ",t+=n[1]+": "+M.settings.top_bottom+"px;",t+="} "):"sn-right-to-left"==M.settings.animation_class?(t+="#mps-sales-notification.sn-common."+M.settings.class+" { ",t+=n[1]+": "+M.settings.top_bottom+"px;",t+="} "):"sn-bottom-to-top"==M.settings.animation_class?(t+="#mps-sales-notification.sn-common."+M.settings.class+" { ",t+=n[2]+": "+M.settings.left_right+"px;",t+="} "):"sn-top-to-bottom"==M.settings.animation_class&&(t+="#mps-sales-notification.sn-common."+M.settings.class+" { ",t+=n[2]+": "+M.settings.left_right+"px;",t+="} "),t+="#mps-sales-notification.sn-common."+M.settings.class+".sn-activated { ",t+=n[1]+": "+M.settings.top_bottom+"px;",t+=n[2]+": "+M.settings.left_right+"px;",t+="} ",t+="} ",K&&(t+="@media screen and (max-width: 467px) { ","sn-fade-in-out"==M.settings.animation_class&&(t+="#mps-sales-notification.sn-common."+M.settings.class+"."+M.settings.animation_class+" { ",t+=n[1]+": "+M.settings.top_bottom+"px;",t+="} "),t+="#mps-sales-notification.sn-common."+M.settings.class+"."+M.settings.animation_class+".sn-activated { ",t+=n[1]+": "+M.settings.top_bottom+"px;",t+="} ",t+="} ")),v.snIsNotNullOrBlank(M.settings.custom_css)&&(t+=M.settings.custom_css.replace(/##BREAKLINE##/g,"")),""!=t&&(t="<style id='mps-sales-notification-style'>"+t+"</style>",sn_jQuery("body").append(t))}function i(){try{sn_jQuery("#mps-sales-notification-style").remove()}catch(t){}try{sn_jQuery("#mps-sales-notification").remove()}catch(t){}}function a(){sn_jQuery("#mps-sales-notification").removeClass("sn-activated")}function r(){!function(){var t=v.snCOMMON_CLASS_CSS;M.settings.style_class_id==v.snSTYLE_CUSTOM&&(t=""),t+=" "+M.settings.style_class+" "+M.settings.class+" "+M.settings.animation_class,M.settings.christmas_animation&&(t+=" sn-festival-santa-bg"),sn_jQuery("#mps-sales-notification").addClass(t)}(),function(){M.settings.christmas_cap&&sn_jQuery('<span class="sn-festival-santa-cap"></span>').insertBefore(sn_jQuery("#mps-sales-notification a.sn-close-noty"))}(),function(){v.snIsNotNullOrBlank(M.settings.seconds_prefered_keyword)&&(F=M.settings.seconds_prefered_keyword),v.snIsNotNullOrBlank(M.settings.minutes_prefered_keyword)&&(D=M.settings.minutes_prefered_keyword),v.snIsNotNullOrBlank(M.settings.hours_prefered_keyword)&&(b=M.settings.hours_prefered_keyword),v.snIsNotNullOrBlank(M.settings.days_prefered_keyword)&&(k=M.settings.days_prefered_keyword)}(),function(){M.settings.close_notification||sn_jQuery("#mps-sales-notification a.sn-close-noty").hide()}()}function l(t){var n=v.snGetLocalStorage(v.snSalesNotificationLocalStorage);return!("undefined"==n||!v.snIsNotNullOrBlank(n))&&(n=n.split(","),n.indexOf(t.toString())>-1)}function c(t){var n=v.snGetLocalStorage(v.snSalesNotificationLocalStorage);"undefined"!=n&&v.snIsNotNullOrBlank(n)?n+=","+t:n=t,v.snSetLocalStorage(v.snSalesNotificationLocalStorage,n)}function u(t){return f(window.MPS_NOTIFICATIONS.snPrepareThresholdDateTimeObj(t),M.settings.order_threshold,M.settings.order_threshold_select)}function f(t,n,s){try{var e=!1;return s==v.snConst_Seconds?parseInt(n)<t.dtDiffSeconds&&(e=!0):s==v.snConst_Minutes?parseInt(n)<t.dtDiffMinutes&&(e=!0):s==v.snConst_Hours?parseInt(n)<t.dtDiffHours&&(e=!0):s==v.snConst_Days&&parseInt(n)<t.dtDiffDays&&(e=!0),e}catch(t){return console.log(t),!1}}function _(t){var n=M.settings.display_template;!function(){sn_jQuery("#mps-sales-notification .sn-img a").css("background-image","url('"+v.snSetProductImage(t.sn_img)+"')");var s=v.snGetProductDomainURL();n.indexOf("{{ product_with_link }}")>-1&&sn_jQuery("#mps-sales-notification .sn-img a").attr("href",s+"/products/"+t.sn_handle+window.MPS_NOTIFICATIONS.snGetUTMParams()),v.snIsNotNullOrBlank(s)&&sn_jQuery("#mps-sales-notification .sn-img a").attr("target","_blank")}(),function(){n=n.replace(/{{ first_name }}/g,v.snCapitalizeFirstChar(t.sn_first_name)).replace(/{{ city }}/g,v.snCapitalizeFirstChar(t.sn_city)).replace(/{{ province }}/g,v.snCapitalizeFirstChar(t.sn_state)).replace(/{{ country }}/g,v.snCapitalizeFirstChar(t.sn_country))}(),function(){var s=v.snGetProductDomainURL(),e="";v.snIsNotNullOrBlank(s)&&(e=" target='_blank'");var o="<a href='"+s+"/products/"+t.sn_handle+window.MPS_NOTIFICATIONS.snGetUTMParams()+"'"+e+">"+t.sn_title+"</a>",i="<a>"+t.sn_title+"</a>";n=n.replace(/{{ product_with_link }}/g,o).replace(/{{ product }}/g,i)}(),function(){try{var s=window.MPS_NOTIFICATIONS.snPrepareThresholdDateTimeObj(t),e=0,o=v.snIsNotNullOrBlank(M.settings.time_ago_template)?M.settings.time_ago_template:"{{ unit }} {{ duration }} ago";if(f(s,M.settings.timeago_threshold,M.settings.timeago_threshold_select))return n=n.replace(/{{ time_ago }}/g,""),!0;Math.floor(s.dtDiffSeconds)>0&&Math.floor(s.dtDiffSeconds)<60?(e=Math.floor(s.dtDiffSeconds),o=o.replace(/{{ unit }}/g,e),o=Math.floor(s.dtDiffSeconds)<=1?o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(F)?F:"second"):o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(F)?F:"seconds")):Math.floor(s.dtDiffMinutes)>0&&Math.floor(s.dtDiffMinutes)<60?(e=Math.floor(s.dtDiffMinutes),o=o.replace(/{{ unit }}/g,e),o=Math.floor(s.dtDiffMinutes)<=1?o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(D)?D:"minute"):o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(D)?D:"minutes")):Math.floor(s.dtDiffHours)>0&&Math.floor(s.dtDiffHours)<24?(e=Math.floor(s.dtDiffHours),o=o.replace(/{{ unit }}/g,e),o=Math.floor(s.dtDiffHours)<=1?o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(b)?b:"hour"):o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(b)?b:"hours")):Math.floor(s.dtDiffDays)>0&&(e=Math.floor(s.dtDiffDays),o=o.replace(/{{ unit }}/g,e),o=Math.floor(s.dtDiffDays)<=1?o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(k)?k:"day"):o.replace(/{{ duration }}/g,v.snIsNotNullOrBlank(k)?k:"days")),n=e>0?n.replace(/{{ time_ago }}/g,'<small class="sn-time-ago">'+o+"</small>"):n.replace(/{{ time_ago }}/g,"")}catch(t){console.log(t),n=n.replace(/{{ time_ago }}/g,"")}}(),function(){n=v.snIsNotNullOrBlank(t.sn_discount)&&t.sn_discount>0?n.replace(/{{ discount }}/g,'<span class="sn-discount">Saved '+v.bmMoneyFormat(t.sn_discount,M.settings.money_format)+" on this order</span>"):n.replace(/{{ discount }}/g,"")}(),function(){sn_jQuery("#mps-sales-notification .sn-info").html("<div class='sn-info-wrapper'>"+n+"</div>")}(),function(){sn_jQuery("#mps-sales-notification").removeClass("mps-cart-notification")}()}function d(t){return!(!M.settings.is_duplicate_products_display&&t.sn_type!=v.CART_NOTIFICATION)||-1==Q.indexOf(t.sn_title+t.sn_variant)&&(Q.push(t.sn_title+t.sn_variant),!0)}function p(t){return!!v.snIsNotNullOrBlank(t.sn_img)&&(!(M.settings.display_template.indexOf(R)>-1&&!v.snIsNotNullOrBlank(t.sn_first_name))&&(!(M.settings.display_template.indexOf(G)>-1&&!v.snIsNotNullOrBlank(t.sn_handle))&&(!(M.settings.display_template.indexOf(U)>-1&&!v.snIsNotNullOrBlank(t.sn_city))&&(!(M.settings.display_template.indexOf(H)>-1&&!v.snIsNotNullOrBlank(t.sn_state))&&!(M.settings.display_template.indexOf(V)>-1&&!v.snIsNotNullOrBlank(t.sn_country))))))}function I(){for(var t=!0,n="",s=0;s<window.MPS_NOTIFICATIONS.snSalesNotifications.length;s++)if(!l(window.MPS_NOTIFICATIONS.snSalesNotifications[s].sn_unique)&&(window.MPS_NOTIFICATIONS.snSalesNotifications[s].sn_type!=v.SALES_NOTIFICATION||u(window.MPS_NOTIFICATIONS.snSalesNotifications[s])?window.MPS_NOTIFICATIONS.snSalesNotifications[s].sn_type!=v.CART_NOTIFICATION||window.MPS_NOTIFICATIONS.snIsNotValidCart(window.MPS_NOTIFICATIONS.snSalesNotifications[s])||(t=!1):t=!1,!t)){n=window.MPS_NOTIFICATIONS.snSalesNotifications[s];break}if(t)v.snRemoveLocalStorage(v.snSalesNotificationLocalStorage),Q=[],window.MPS_NOTIFICATIONS.snRepeatNotification();else if(window.MPS_NOTIFICATIONS.snSalesNotifications.length>0){c(n.sn_unique);var e=!0;n.sn_type!=v.SALES_NOTIFICATION||p(n)||(e=!1),d(n)&&e?(n.sn_type==v.CART_NOTIFICATION?window.MPS_NOTIFICATIONS.snAssignCartNotification(n):_(n),window.MPS_NOTIFICATIONS.snShowNotification(),x++,window.MPS_NOTIFICATIONS.snNextNotificationFrom=v.CART_NOTIFICATION,window.MPS_NOTIFICATIONS.snNextProductCall()):window.MPS_NOTIFICATIONS.snRepeatNotification()}else console.log("Sales Notification App: Oops! we are facing issues when displaying Sales Notifications. Please contact support for more help.")}function g(){var t=[],n=0,s=[],e=[];try{var o=0,i=0;void 0!=window.MPS_NOTIFICATIONS.snSalesNotifications&&(s=window.MPS_NOTIFICATIONS.snSalesNotifications.slice(),o=window.MPS_NOTIFICATIONS.snSalesNotifications.length),void 0!=window.MPS_NOTIFICATIONS.snSalesNotifications&&(e=window.MPS_NOTIFICATIONS.snCartNotifications.slice(),i=window.MPS_NOTIFICATIONS.snCartNotifications.length),n=o+i}catch(t){}for(var a=n;a>0;)s.length>0&&(t.push(s.shift()),a--),e.length>0&&(t.push(e.shift()),a--);t.length>0&&(window.MPS_NOTIFICATIONS.snSalesNotifications=t),window.MPS_NOTIFICATIONS.snRepeatNotification()}function N(){setTimeout(function(){g()},1e3*parseFloat(M.settings.initial_delay))}function m(){window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidOrder=!1,window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidCart=!1;for(var t=0;t<window.MPS_NOTIFICATIONS.snSalesNotifications.length;t++)if(!u(window.MPS_NOTIFICATIONS.snSalesNotifications[t])&&p(window.MPS_NOTIFICATIONS.snSalesNotifications[t])){window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidOrder=!0;break}return window.MPS_NOTIFICATIONS.snIsFoundAtleastOneCartNotificationFN()&&(window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidCart=!0),!!window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidOrder||window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidCart}function S(t){sn_jQuery.ajax({method:"post",url:v.snGlobalAPIURL()+v.sn_GENERATE_SALE_URL,data:{sale_url:M.sales_url,shop:v.snGetShopifyShopURL(),t:t},success:function(t,n,s){y()},error:function(t,n,s){y()}})}function O(){m()?N():console.info("Sales Notification App: No sales found as per settings.")}function T(t){if(t){for(var n=0;n<t.length;n++)t[n].sn_type=v.SALES_NOTIFICATION;window.MPS_NOTIFICATIONS.snSalesNotifications=t;try{v.snSetLocalStorage(v.snSalesNotificationArrayLS,JSON.stringify(t)),v.snSetLocalStorage(v.snSalesNotificationCountLS,M.settings.sn_count)}catch(t){console.log(t)}O()}else console.info("Sales Notification App: No sales found.")}function y(){var t=v.snGetLocalStorage(v.snSalesNotificationCountLS),n=v.snGetLocalStorage(v.snSalesNotificationArrayLS);if(M.settings.sn_count==t&&v.snIsNotNullOrBlank(n))window.MPS_NOTIFICATIONS.snSalesNotifications=JSON.parse(n),O();else{var s=void 0;try{s="####CACHED_SALES_RESPONSE####"}catch(t){console.log(t)}void 0!=s&&-1==s.toString().indexOf("##CACHED_SALES_RESPONSE##")?T(s):sn_jQuery.ajax({method:"get",url:M.sales_url,success:function(t,n,s){T(t)},error:function(t,n,s){E>B&&(B++,setTimeout(function(){S(B)},1e3*B))}})}}function h(){sn_jQuery("body").off("click","#mps-sales-notification a.sn-close-noty"),sn_jQuery("body").on("click","#mps-sales-notification a.sn-close-noty",function(){sn_jQuery("#mps-sales-notification").remove(),sn_jQuery("#mps-sales-notification-style").remove()}),sn_jQuery("body").off("click","#mps-sales-notification .sn-info-wrapper a:first"),sn_jQuery("body").on("click","#mps-sales-notification .sn-info-wrapper a:first",function(){try{if(""!=sn_jQuery.trim(sn_jQuery("#mps-sales-notification .sn-info-wrapper a:first").attr("href"))){var t=sn_jQuery("#mps-sales-notification .sn-img a:first").css("background-image").replace(/(url\(|\)|'|")/gi,"");v.snAnalytic(M.settings.sid,sn_jQuery.trim(sn_jQuery("#mps-sales-notification .sn-info-wrapper a:first").attr("href")),t,sn_jQuery.trim(sn_jQuery("#mps-sales-notification .sn-info-wrapper a:first").html()))}}catch(t){console.log(t)}}),sn_jQuery("#mps-sales-notification").mouseenter(function(){clearTimeout(j),clearTimeout(L)}).mouseleave(function(){window.MPS_NOTIFICATIONS.snNextProductCall()})}function w(){var t=1;try{void 0!==M.settings.is_remove_verified_by&&(t=M.settings.is_remove_verified_by)}catch(t){}return t}function C(){var t=0;if(!w())try{if(void 0!==M.settings.ppm_position&&v.POSITION_BOTTOM==M.settings.ppm_position){t=(v.snIsMobile()?v.MIN_BOTTOM_POSITION_MOBILE:v.MIN_BOTTOM_POSITION_DESKTOP)-M.settings.top_bottom,K=!0}}catch(t){}return t}function A(t,n,s){M=t,v=n,P=s,window.MPS_NOTIFICATIONS.SNRefreshSalesNotifications()}var M=null,v=null,P=!1,F="",D="",b="",k="",x=0,j=0,L=0,B=0,E=1,Q=[],R="{{ first_name }}",G="{{ product_with_link }}",U="{{ city }}",H="{{ province }}",V="{{ country }}",K=!1;window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidOrder=!1,window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidCart=!1,window.MPS_NOTIFICATIONS.snIsStopToDisplayCartNotification=!1,window.MPS_NOTIFICATIONS.snShowNotification=function(){sn_jQuery("#mps-sales-notification").addClass("sn-activated")},window.MPS_NOTIFICATIONS.snGetUTMParams=function(){return M.settings.is_utm_params?"?"+v.snUTM_SOURCE_TAG+"="+M.settings.utm_source+"&"+v.snUTM_MEDIUM_TAG+"="+M.settings.utm_medium+"&"+v.snUTM_CAMPAIGN_TAG+"="+M.settings.utm_campaign:""},window.MPS_NOTIFICATIONS.snPrepareThresholdDateTimeObj=function(t){var n=new Date(t.sn_purchased_on),s=new Date,e=(s.getTime()-n.getTime())/1e3,o=e/60,i=o/60;return{dtDiffSeconds:e,dtDiffMinutes:o,dtDiffHours:i,dtDiffDays:i/24}},window.MPS_NOTIFICATIONS.snNextProductCall=function(){clearTimeout(j),clearTimeout(L),j=setTimeout(function(){a(),L=setTimeout(function(){window.MPS_NOTIFICATIONS.snRepeatNotification()},1e3*parseFloat(v.snGetDelayBetweenNotification(M)))},1e3*parseFloat(M.settings.display_time))},window.MPS_NOTIFICATIONS.snRepeatNotification=function(){return!(x>=parseInt(M.settings.max_per_page)||-1==sn_jQuery("#mps-sales-notification").index())&&(!(!window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidOrder&&!window.MPS_NOTIFICATIONS.snIsFoundAtleastOneValidCart)&&void I())},window.MPS_NOTIFICATIONS.SNRefreshSalesNotifications=function(){if(P){i();var t=C();t>0&&(M.settings.top_bottom+=t),o(),e(),r(),y(),h()}},t.exports=A}]);